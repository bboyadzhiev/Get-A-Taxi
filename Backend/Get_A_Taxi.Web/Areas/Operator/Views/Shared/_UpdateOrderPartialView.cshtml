
@*@using (Html.BeginForm("CreateOrder", "Main", FormMethod.Post, new { id= "newOrderForm"}))*@
@using (Ajax.BeginForm("UpdateOrder", null, new AjaxOptions
{
    UpdateTargetId = "orderInputPartial",
    InsertionMode = InsertionMode.ReplaceWith,
    HttpMethod = "POST",
    OnBegin = "updateOrderPartial.cleanPartial()"
}, new { id = "updateOrderForm" }))
{
   @*@Html.AntiForgeryToken()*@

    <div class="form-horizontal">
        <div id="updateOrderInputPlaceholder"></div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="button" value="Update" class="btn btn-default" onclick="updateOrderPartial.updateOrderClick()" />
                <input type="button" value="Close" class="btn btn-default" onclick="updateOrderPartial.cleanPartial()" />
            </div>
        </div>
    </div>
}
@using (Ajax.BeginForm("CancelOrder", null, new AjaxOptions
{
    UpdateTargetId = "orderInputPartial",
    InsertionMode = InsertionMode.ReplaceWith,
    HttpMethod = "POST",
    OnBegin = "updateOrderPartial.cleanPartial()"
}, new { id = "cancelOrderForm" }))
{
    @Html.AntiForgeryToken()
    @Html.Hidden("cancelOrderId")
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="button" value="Cancel" class="btn btn-default" onclick="updateOrderPartial.cancelOrderClick()" />
            </div>
        </div>
    </div>
}

<script type="text/javascript">
    var updateOrderPartial = function () {

        function updateOrderClick() {
            orderInputPartial.cleanSearchMarkers();
            $('#updateOrderForm').submit();
        }

        function cancelOrderClick() {
            orderInputPartial.cleanSearchMarkers();
            $('#cancelOrderForm').submit();
        }

        function cleanPartial() {
            orderInputPartial.cleanSearchMarkers();
            $('#phoneSearchBox').val("");
            $('#updateOrderPartial').trigger("reset");
            $('#updateOrderPartial').fadeOut();
        }

        return {
            updateOrderClick: updateOrderClick,
            cleanPartial: cleanPartial,
            cancelOrderClick: cancelOrderClick
        }
    }();



</script>